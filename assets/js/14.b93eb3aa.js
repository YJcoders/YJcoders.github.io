(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{416:function(s,t,a){s.exports=a.p+"assets/img/render-process.b1ea4569.png"},468:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"整体过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整体过程"}},[s._v("#")]),s._v(" 整体过程")]),s._v(" "),t("p",[s._v("load 事件: 在整个页面及所有依赖资源如样式表和图片都已完成加载时触发。\nDOMContentLoaded 事件：当纯 HTML 被完全加载以及解析完成时触发，不必等待样式表，图片或者子框架完成加载（DOM 树构建完成触发）")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("请求：地址栏输入域名，开始域名解析，找到对应ip，（如果输入ip就直接）访问地址（建立"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("连接），发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTTP")]),s._v("请求\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、接收返回的"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML")]),s._v("文件，开始解析"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、构建"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v("树：解析"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML")]),s._v("标签，构建成"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v("树\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、加载"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSS")]),s._v("资源：解析"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("HTML")]),s._v("，遇到"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSS")]),s._v("资源，异步加载请求，最终解析合成"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSSOM")]),s._v("树\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、构建渲染树："),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v("树和"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSSOM")]),s._v("（"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSS")]),s._v(" Object Model）树构建完成之后，合成渲染树\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("、进行布局和绘制：浏览器根据渲染树进行布局，计算出每个元素在页面上的大小和位置，然后再绘制到页面\n\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DNS")]),s._v("域名解析：\n先在浏览器缓存中查询，没有就去本机"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DNS")]),s._v("缓存查询，查询不到再去本机的host里面查询，查询不到再发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DNS")]),s._v("查询请求\n\n建立"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("连接，"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Transmission Control Protocol"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("传输控制协议：\n在"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("层，有个"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FLAGS")]),s._v("字段，几个标识："),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PSH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RST")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("URG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" synchronous表示建立连接；\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" finish表示关闭连接\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" acknowledgement表示响应\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PSH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" push表示有data数据传输\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RST")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" reset表示连接重置\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("URG")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" urgent紧急\n\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("的"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("次握手：\n  一次握手：客户端发送带有"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),s._v("标志的数据包"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("服务端 （客户端向服务端发送建 立连接请求）\n  二次握手：服务端发送带有"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SYN")]),s._v("标志"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v("标志的数据包"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("客户端 （服务端向客户 端发送信息，表示收到你的信息，可以连接）\n  三次握手：客户端发送带有"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v("标志的数据包"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("服务端 （客户端告诉服务端，确 认收到服务器端同意连接的信号）\n\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TCP")]),s._v("四次挥手：\n  一次：客户端发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),s._v("标志"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("服务端（客户端没有数据发送了可以结束连接了）\n  二次：服务端发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v("标志"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("客户端（服务端表示请求已经收到，等发完数据就关 闭）\n  三次：服务端发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FIN")]),s._v("标志"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("客户端（服务端已经发送完成，可以关闭）\n  四次：客户端发送"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACK")]),s._v("标志"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("服务端（客户端表示收到你的关闭请求，2ms后没有响应，关闭连接）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h3",{attrs:{id:"解析过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析过程"}},[s._v("#")]),s._v(" 解析过程")]),s._v(" "),t("p",[t("img",{attrs:{src:a(416),alt:"解析过程"}})]),s._v(" "),t("h3",{attrs:{id:"css-资源加载-不会阻断-html-解析-会阻塞页面的渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#css-资源加载-不会阻断-html-解析-会阻塞页面的渲染"}},[s._v("#")]),s._v(" css 资源加载，不会阻断 HTML 解析，会阻塞页面的渲染")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("会影响后面的js执行\n因为：js执行代码可能会依赖到css样式，css只阻塞执行而不阻塞js的加载\ncss会间接地阻塞js后面资源的加载（css阻塞js，js阻塞其他资源）\n\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v("树生成之后，要等待"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSSOM")]),s._v("树生成，然后合并成渲染树，进行布局绘制，完成显示\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"script-标签为什么建议放在-body-标签的底部-defer、async"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#script-标签为什么建议放在-body-标签的底部-defer、async"}},[s._v("#")]),s._v(" script 标签为什么建议放在 body 标签的底部（defer、async）？")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("因为浏览器在渲染html时，遇到js资源时会停止当前的页面渲染，去下载执行js\n如果放在头部，文件过大会导致首页白屏时间加长，影响用户体验\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"图片-音视频-字体资源加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图片-音视频-字体资源加载"}},[s._v("#")]),s._v(" 图片，音视频，字体资源加载")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("图片，音视频文件加载不阻塞页面解析和渲染\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"重绘-repaint-和回流-reflow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重绘-repaint-和回流-reflow"}},[s._v("#")]),s._v(" 重绘（repaint）和回流（reflow）")]),s._v(" "),t("div",{staticClass:"language-js、 line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("回流必将引起重绘，重绘不一定会引起回流\n回流比重绘的代价要更高\n\n重绘：当元素样式改变但并不影响它在文档流中的位置时，浏览器重新绘制它的过程称为重绘\n例如：color、background-color、visibility\n\n回流：当部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程称为回流\n例如：\n浏览器窗口大小发生改变\n元素尺寸或位置发生改变\n元素字体大小变化\n添加或者删除可见的DOM元素\n查询或调用某些属性和方法：\nclientWidth、clientHeight、clientTop、clientLeft\noffsetWidth、offsetHeight、offsetTop、offsetLeft\nscrollWidth、scrollHeight、scrollTop、scrollLeft\nscrollTo()\nscrollIntoView()、scrollIntoViewIfNeeded()\ngetComputedStyle()\ngetBoundingClientRect()\n\n减少回流，重绘操作\n\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("h3",{attrs:{id:"渲染过程如何优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#渲染过程如何优化"}},[s._v("#")]),s._v(" 渲染过程如何优化？")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、尽量减少对"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DOM")]),s._v("节点的操作，使用DocumentFragment，一次性操作\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、动画、位移操作使用 transform 替代 top\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、动画、位移使用position 的 absolute，fixed属性\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、使用 visibility 替换 display"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" none ，因为前者只会引起重绘，后者会引发回流（改变了布局）\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("、减少css的层级\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("、减少首页加载的js和css资源\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("、减少重绘和回流（根据对应点优化处理）\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("、使用window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("requestAnimationFrame")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("、window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("requestIdleCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("优化批量渲染\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);